{"version":3,"sources":["webpack:///./src/pages/playLists/playLists.vue?ebfd","webpack:///src/pages/playLists/playLists.vue","webpack:///./src/pages/playLists/playLists.vue?2fbd","webpack:///./src/pages/playLists/playLists.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","topList","coverImgUrl","_v","_s","name","description","_l","item","index","key","class","active","checkIndex","on","$event","toggle","toPlaylist","id","playCount","total","page","handleCurrentChange","staticRenderFns","components","mixins","props","data","songList","tagLists","watch","created","topData","listData","mounted","computed","methods","$axios","url","params","limit","cat","offset","val","console","log","$router","push","component"],"mappings":"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","file":"js/chunk-2d0d76d2.b8a13a71.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playlists-container\"},[_c('div',{staticClass:\"top-card\"},[_c('div',{staticClass:\"icon-wrap\"},[_c('img',{attrs:{\"src\":_vm.topList.coverImgUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"content-wrap\"},[_c('div',{staticClass:\"tag\"},[_vm._v(\"精品歌单\")]),_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.topList.name)+\" \")]),_c('div',{staticClass:\"info\"},[_vm._v(\" \"+_vm._s(_vm.topList.description)+\" \")])]),_c('img',{staticClass:\"bg\",attrs:{\"src\":_vm.topList.coverImgUrl,\"alt\":\"\"}}),_c('div',{staticClass:\"bg-mask\"})]),_c('div',{staticClass:\"tab-container\"},[_c('div',{staticClass:\"tab-bar\"},_vm._l((_vm.tagLists),function(item,index){return _c('span',{key:index,staticClass:\"item\",class:{ active: index == _vm.checkIndex },on:{\"click\":function($event){return _vm.toggle(index, item)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"items\"},_vm._l((_vm.songList),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.toPlaylist(item.id)}}},[_c('div',{staticClass:\"img-wrap\"},[_c('div',{staticClass:\"num-wrap\"},[_vm._v(\" 播放量: \"),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.playCount))])]),_c('img',{attrs:{\"src\":item.coverImgUrl,\"alt\":\"\"}}),_c('span',{staticClass:\"iconfont icon-play\"})]),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.description))])])}),0)])]),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"current-page\":_vm.page,\"page-size\":15},on:{\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"playlists-container\">\n    <!-- 同步 -->\n    <div class=\"top-card\">\n      <div class=\"icon-wrap\">\n        <img :src=\"topList.coverImgUrl\"\n             alt=\"\" />\n      </div>\n      <div class=\"content-wrap\">\n        <div class=\"tag\">精品歌单</div>\n        <div class=\"title\">\n          {{ topList.name }}\n        </div>\n        <div class=\"info\">\n          {{ topList.description }}\n        </div>\n      </div>\n      <img :src=\"topList.coverImgUrl\"\n           alt=\"\"\n           class=\"bg\" />\n      <div class=\"bg-mask\"></div>\n    </div>\n    <div class=\"tab-container\">\n      <!-- tab栏 顶部 -->\n      <div class=\"tab-bar\">\n        <span class=\"item\"\n              :class=\"{ active: index == checkIndex }\"\n              @click=\"toggle(index, item)\"\n              v-for=\"(item, index) in tagLists\"\n              :key=\"index\">\n          {{ item }}\n        </span>\n      </div>\n      <!-- tab的内容区域 -->\n      <div class=\"tab-content\">\n        <div class=\"items\">\n          <div class=\"item\"\n               @click=\"toPlaylist(item.id)\"\n               v-for=\"(item, index) in songList\"\n               :key=\"index\">\n            <div class=\"img-wrap\">\n              <div class=\"num-wrap\">\n                播放量:\n                <span class=\"num\">{{ item.playCount }}</span>\n              </div>\n              <img :src=\"item.coverImgUrl\"\n                   alt=\"\" />\n              <span class=\"iconfont icon-play\"></span>\n            </div>\n            <p class=\"name\">{{ item.description }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 分页器 \n      total 总条数\n      current-page 当前页\n      page-size 每页多少条数据\n      current-change  页码改变事件\n    -->\n    <el-pagination @current-change=\"handleCurrentChange\"\n                   background\n                   layout=\"prev, pager, next\"\n                   :total=\"total\"\n                   :current-page=\"page\"\n                   :page-size=\"15\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'playLists',\n  components: {},\n  mixins: [],\n  props: {},\n  data: function () {\n    return {\n      //当前选择的活跃标签\n      checkIndex: 0,\n      // 总条数\n      total: 0,\n      // 页码\n      page: 1,\n      //顶部推荐歌单\n      topList: {},\n      //歌单列表\n      songList: [],\n      //标签列表\n      tagLists: [\n        '全部',\n        '欧美',\n        '华语',\n        '流行',\n        '说唱',\n        '摇滚',\n        '民谣',\n        '电子',\n        '轻音乐',\n        '影视原声',\n        'ACG',\n        '怀旧',\n        '治愈',\n        '旅行',\n      ],\n    }\n  },\n  watch: {},\n  created: function () {\n    //顶部的精品歌单\n    this.topData()\n    // this.$axios({\n    //   url: 'https://autumnfish.cn/top/playlist/highquality',\n    //   methods: 'get',\n    //   params: {\n    //     limit: 1,\n    //     cat: '全部',\n    //   },\n    // }).then((res) => {\n    //   // console.log(res);\n    //   this.topList = res.data.playlists[0]\n    // })\n    // 歌单列表数据\n    this.listData()\n    // this.$axios({\n    //   url: 'https://autumnfish.cn/top/playlist',\n    //   methods: 'get',\n    //   params: {\n    //     limit: 15,\n    //     cat: '全部',\n    //     offset: 0,\n    //   },\n    // }).then((res) => {\n    //   // console.log(res)\n    //   this.songList = res.data.playlists\n    // })\n  },\n  mounted: function () { },\n  computed: {},\n  methods: {\n    toggle(index, item) {\n      this.page = 1\n      // console.log(item)\n      this.checkIndex = index\n      // 点击切换歌单列表数据\n      this.topData(item)\n      //点击切换顶部的精品歌单\n      this.listData(item)\n    },\n    // 列表数据\n    listData(item) {\n      this.$axios({\n        url: 'https://autumnfish.cn/top/playlist/',\n        methods: 'get',\n        params: {\n          limit: 15,\n          cat: item,\n          //分页： 每一页的数据减去1乘limit的数据  就是当前页的数据\n          offset: (this.page - 1) * 15,\n        },\n      }).then((res) => {\n        // console.log(res)\n        //保存分页的总条数数据\n        this.total = res.data.total\n        this.songList = res.data.playlists\n      })\n    },\n    // 顶部数据\n    topData(item) {\n      this.$axios({\n        url: 'https://autumnfish.cn/top/playlist/highquality',\n        methods: 'get',\n        params: {\n          limit: 1,\n          cat: item,\n        },\n      }).then((res) => {\n        // console.log(res);\n        this.topList = res.data.playlists[0]\n      })\n    },\n    // 页码改变事件\n    handleCurrentChange(val) {\n      // 保存页码\n      this.page = val\n      // 重新请求数据\n      this.listData()\n      console.log(this.listData());\n      console.log(`当前页: ${val}`)\n    },\n    toPlaylist(id) {\n      this.$router.push(`/playlist?id=${id}`)\n    },\n  },\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playLists.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playLists.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./playLists.vue?vue&type=template&id=faf2a4d2&scoped=true&\"\nimport script from \"./playLists.vue?vue&type=script&lang=js&\"\nexport * from \"./playLists.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"faf2a4d2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}