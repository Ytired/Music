(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-386f4c7f"],{"38bc":function(t,n,e){var s,r;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(i,a){s=a,r="function"===typeof s?s.call(n,e,n,t):s,void 0===r||(t.exports=r)})(0,(function(){var t={version:"0.2.0"},n=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function e(t,n,e){return t<n?n:t>e?e:t}function s(t){return 100*(-1+t)}function r(t,e,r){var i;return i="translate3d"===n.positionUsing?{transform:"translate3d("+s(t)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+s(t)+"%,0)"}:{"margin-left":s(t)+"%"},i.transition="all "+e+"ms "+r,i}t.configure=function(t){var e,s;for(e in t)s=t[e],void 0!==s&&t.hasOwnProperty(e)&&(n[e]=s);return this},t.status=null,t.set=function(s){var o=t.isStarted();s=e(s,n.minimum,1),t.status=1===s?null:s;var u=t.render(!o),c=u.querySelector(n.barSelector),l=n.speed,p=n.easing;return u.offsetWidth,i((function(e){""===n.positionUsing&&(n.positionUsing=t.getPositioningCSS()),a(c,r(s,l,p)),1===s?(a(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout((function(){a(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),l)}),l)):setTimeout(e,l)})),this},t.isStarted=function(){return"number"===typeof t.status},t.start=function(){t.status||t.set(0);var e=function(){setTimeout((function(){t.status&&(t.trickle(),e())}),n.trickleSpeed)};return n.trickle&&e(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var s=t.status;return s?("number"!==typeof n&&(n=(1-s)*e(Math.random()*s,.1,.95)),s=e(s+n,0,.994),t.set(s)):t.start()},t.trickle=function(){return t.inc(Math.random()*n.trickleRate)},function(){var n=0,e=0;t.promise=function(s){return s&&"resolved"!==s.state()?(0===e&&t.start(),n++,e++,s.always((function(){e--,0===e?(n=0,t.done()):t.set((n-e)/n)})),this):this}}(),t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var r=document.createElement("div");r.id="nprogress",r.innerHTML=n.template;var i,o=r.querySelector(n.barSelector),c=e?"-100":s(t.status||0),l=document.querySelector(n.parent);return a(o,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),n.showSpinner||(i=r.querySelector(n.spinnerSelector),i&&p(i)),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(r),r},t.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(n.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&p(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,n="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return n+"Perspective"in t?"translate3d":n+"Transform"in t?"translate":"margin"};var i=function(){var t=[];function n(){var e=t.shift();e&&e(n)}return function(e){t.push(e),1==t.length&&n()}}(),a=function(){var t=["Webkit","O","Moz","ms"],n={};function e(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,n){return n.toUpperCase()}))}function s(n){var e=document.body.style;if(n in e)return n;var s,r=t.length,i=n.charAt(0).toUpperCase()+n.slice(1);while(r--)if(s=t[r]+i,s in e)return s;return n}function r(t){return t=e(t),n[t]||(n[t]=s(t))}function i(t,n,e){n=r(n),t.style[n]=e}return function(t,n){var e,s,r=arguments;if(2==r.length)for(e in n)s=n[e],void 0!==s&&n.hasOwnProperty(e)&&i(t,e,s);else i(t,r[1],r[2])}}();function o(t,n){var e="string"==typeof t?t:l(t);return e.indexOf(" "+n+" ")>=0}function u(t,n){var e=l(t),s=e+n;o(e,n)||(t.className=s.substring(1))}function c(t,n){var e,s=l(t);o(t,n)&&(e=s.replace(" "+n+" "," "),t.className=e.substring(1,e.length-1))}function l(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function p(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t}))},"718d":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"result-container"},[e("div",{staticClass:"title-wrap"},[e("h2",{staticClass:"title",attrs:{keywords:t.keywords=this.$route.query.q}},[t._v(t._s(this.$route.query.q))]),e("span",{staticClass:"sub-title"},[t._v("找到"+t._s(t.searchResultsNumber)+"个结果")])]),e("el-tabs",{model:{value:t.activeIndex,callback:function(n){t.activeIndex=n},expression:"activeIndex"}},[e("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[e("table",{staticClass:"el-table"},[e("thead",[e("th"),e("th",[t._v("音乐标题")]),e("th",[t._v("歌手")]),e("th",[t._v("专辑")]),e("th",[t._v("时长")])]),e("tbody",t._l(t.searhSongsLists,(function(n,s){return e("tr",{key:s,staticClass:"el-table__row"},[e("td",[t._v(t._s(s+1))]),e("td",[e("div",{staticClass:"song-wrap"},[e("div",{staticClass:"name-wrap"},[e("span",[t._v(t._s(n.name))]),0!=n.mvid?e("span",{staticClass:"iconfont icon-mv",on:{click:function(e){return e.stopPropagation(),t.toMv(n.mvid)}}}):t._e()]),0!=n.alias.length?e("span",[t._v(t._s(n.alias[0]))]):t._e()])]),e("td",[t._v(t._s(n.artists[0].name))]),e("td",[t._v(t._s(n.album.name))]),e("td",[t._v(t._s(t._f("dateFMT")(n.duration)))]),e("span",{staticClass:"iconfont icon-play ",on:{click:function(e){return t.playMusic(n.id,n.name)}}})])})),0)])]),e("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[e("div",{staticClass:"items"},t._l(t.songLists,(function(n,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.toPlaylist(n.id)}}},[e("div",{staticClass:"img-wrap"},[e("div",{staticClass:"num-wrap wrap"},[t._v(" 播放量: "),e("span",{staticClass:"num"},[t._v(t._s(t._f("ellipsisPlayVolume")(n.playCount)))])]),e("img",{attrs:{src:n.coverImgUrl+"?param=200y200",alt:""}}),e("span",{staticClass:"iconfont icon-play"})]),e("p",{staticClass:"name"},[t._v(t._s(n.name))])])})),0)]),e("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[e("div",{staticClass:"items mv"},t._l(t.mvLists,(function(n,s){return e("div",{key:s,staticClass:"item",on:{click:function(e){return t.toMv(n.id)}}},[e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:n.cover+"?param=250y150",alt:""}}),e("span",{staticClass:"iconfont icon-play"}),e("div",{staticClass:"num-wrap"},[e("div",{staticClass:"iconfont icon-play"}),e("div",{staticClass:"num"},[t._v(t._s(t._f("ellipsisPlayVolume")(n.playCount)))])]),e("span",{staticClass:"time"},[t._v(t._s(t._f("dateFMT")(n.duration)))])]),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"name"},[t._v(t._s(n.name))]),e("div",{staticClass:"singer"},[t._v(t._s(n.artistName))])])])})),0)])],1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)},r=[],i=e("c1df"),a=e.n(i),o=e("8982"),u={name:"result",data:function(){return{activeIndex:"songs",searhSongsLists:[],songLists:[],mvLists:[],searchResultsNumber:"",type:1,keywords:"",total:0,page:1,pageSize:10}},created:function(){},methods:{handleCurrentChange:function(t){this.page=t,this._searchMusic()},_searchMusic:function(){var t=this,n=(new Date).getTime();Object(o["i"])({timestamp:n,keywords:this.keywords,type:this.type,limit:1004===this.type?8:10,offset:(this.page-1)*(1004===this.type?8:10)}).then((function(n){1===t.type?(t.searhSongsLists=n.result.songs,t.searchResultsNumber=n.result.songCount):1e3===t.type?(t.songLists=n.result.playlists,t.searchResultsNumber=n.result.playlistCount):1004===t.type&&(t.mvLists=n.result.mvs,t.searchResultsNumber=n.result.mvCount),t.total=t.searchResultsNumber}))},playMusic:function(t,n){var e=this;console.log(t),Object(o["h"])({id:t}).then((function(t){console.log(t.data);var s=t.data[0].url;e.$parent.musicUrl=s,e.$notify({title:"开始播放："+n,offset:50,type:"success",duration:4e3})}))},toPlaylist:function(t){this.$router.push("/playlist?id=".concat(t))},toMv:function(t){this.$router.push("/mv?id=".concat(t))}},filters:{dateFMT:function(t){return a()(t).format("mm:ss")},ellipsisPlayVolume:function(t){return t<1e5?t:parseInt(t/1e4)+"万"}},watch:{keywords:function(){this._searchMusic()},activeIndex:function(){switch(this.activeIndex){case"songs":this.type=1,this.page=1;break;case"lists":this.type=1e3,this.page=1;break;case"mv":this.type=1004,this.page=1;break;default:break}this._searchMusic()}}},c=u,l=(e("875d"),e("2877")),p=Object(l["a"])(c,s,r,!1,null,"76fa89be",null);n["default"]=p.exports},"875d":function(t,n,e){"use strict";var s=e("f8d1"),r=e.n(s);r.a},8982:function(t,n,e){"use strict";e.d(n,"h",(function(){return u})),e.d(n,"d",(function(){return c})),e.d(n,"i",(function(){return l})),e.d(n,"j",(function(){return p})),e.d(n,"f",(function(){return d})),e.d(n,"b",(function(){return m})),e.d(n,"e",(function(){return f})),e.d(n,"g",(function(){return v})),e.d(n,"a",(function(){return g})),e.d(n,"c",(function(){return h}));var s=e("bc3a"),r=e.n(s),i=e("38bc"),a=e.n(i),o=r.a.create({baseURL:"https://autumnfish.cn",timeout:3e3});function u(t){return o.get("/song/url",{params:t})}function c(t){return o.get("/mv/all",{params:t})}function l(t){return o.get("/search",{params:t})}function p(t){return o.get("/playlist/detail",{params:t})}function d(t){return o.get("/comment/playlist",{params:t})}function m(t){return o.get("/mv/url",{params:t})}function f(t){return o.get("/simi/mv",{params:t})}function v(t){return o.get("/mv/detail",{params:t})}function g(t){return o.get("/artists",{params:t})}function h(t){return o.get("/comment/mv",{params:t})}o.interceptors.request.use((function(t){return a.a.start(),t}),(function(t){console.log(t)})),o.interceptors.response.use((function(t){return a.a.done(),t.data}),(function(t){console.log(t)}))},f8d1:function(t,n,e){}}]);
//# sourceMappingURL=chunk-386f4c7f.4baf383a.js.map