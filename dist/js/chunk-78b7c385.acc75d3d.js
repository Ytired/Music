(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78b7c385"],{"38bc":function(t,n,e){var s,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(a,r){s=r,i="function"===typeof s?s.call(n,e,n,t):s,void 0===i||(t.exports=i)})(0,(function(){var t={version:"0.2.0"},n=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function e(t,n,e){return t<n?n:t>e?e:t}function s(t){return 100*(-1+t)}function i(t,e,i){var a;return a="translate3d"===n.positionUsing?{transform:"translate3d("+s(t)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+s(t)+"%,0)"}:{"margin-left":s(t)+"%"},a.transition="all "+e+"ms "+i,a}t.configure=function(t){var e,s;for(e in t)s=t[e],void 0!==s&&t.hasOwnProperty(e)&&(n[e]=s);return this},t.status=null,t.set=function(s){var o=t.isStarted();s=e(s,n.minimum,1),t.status=1===s?null:s;var c=t.render(!o),u=c.querySelector(n.barSelector),l=n.speed,m=n.easing;return c.offsetWidth,a((function(e){""===n.positionUsing&&(n.positionUsing=t.getPositioningCSS()),r(u,i(s,l,m)),1===s?(r(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){r(c,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),l)}),l)):setTimeout(e,l)})),this},t.isStarted=function(){return"number"===typeof t.status},t.start=function(){t.status||t.set(0);var e=function(){setTimeout((function(){t.status&&(t.trickle(),e())}),n.trickleSpeed)};return n.trickle&&e(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var s=t.status;return s?("number"!==typeof n&&(n=(1-s)*e(Math.random()*s,.1,.95)),s=e(s+n,0,.994),t.set(s)):t.start()},t.trickle=function(){return t.inc(Math.random()*n.trickleRate)},function(){var n=0,e=0;t.promise=function(s){return s&&"resolved"!==s.state()?(0===e&&t.start(),n++,e++,s.always((function(){e--,0===e?(n=0,t.done()):t.set((n-e)/n)})),this):this}}(),t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=n.template;var a,o=i.querySelector(n.barSelector),u=e?"-100":s(t.status||0),l=document.querySelector(n.parent);return r(o,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),n.showSpinner||(a=i.querySelector(n.spinnerSelector),a&&m(a)),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(i),i},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(n.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&m(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,n="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return n+"Perspective"in t?"translate3d":n+"Transform"in t?"translate":"margin"};var a=function(){var t=[];function n(){var e=t.shift();e&&e(n)}return function(e){t.push(e),1==t.length&&n()}}(),r=function(){var t=["Webkit","O","Moz","ms"],n={};function e(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,n){return n.toUpperCase()}))}function s(n){var e=document.body.style;if(n in e)return n;var s,i=t.length,a=n.charAt(0).toUpperCase()+n.slice(1);while(i--)if(s=t[i]+a,s in e)return s;return n}function i(t){return t=e(t),n[t]||(n[t]=s(t))}function a(t,n,e){n=i(n),t.style[n]=e}return function(t,n){var e,s,i=arguments;if(2==i.length)for(e in n)s=n[e],void 0!==s&&n.hasOwnProperty(e)&&a(t,e,s);else a(t,i[1],i[2])}}();function o(t,n){var e="string"==typeof t?t:l(t);return e.indexOf(" "+n+" ")>=0}function c(t,n){var e=l(t),s=e+n;o(e,n)||(t.className=s.substring(1))}function u(t,n){var e,s=l(t);o(t,n)&&(e=s.replace(" "+n+" "," "),t.className=e.substring(1,e.length-1))}function l(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function m(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t}))},"484b":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"mv-container"},[e("div",{staticClass:"mv-wrap"},[e("h3",{staticClass:"title"},[t._v("mv详情")]),e("div",{staticClass:"video-wrap"},[e("video",{attrs:{controls:"",src:t.mvVideo}})]),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"singer-info"},[e("div",{staticClass:"avatar-wrap"},[e("img",{attrs:{src:t.icon+"?param=70y70",alt:""}})]),e("span",{staticClass:"name"},[t._v(t._s(t.mvInfo.artistName))])]),e("div",{staticClass:"mv-info"},[e("h2",{staticClass:"title"},[t._v(t._s(t.mvInfo.name))]),e("span",{staticClass:"date"},[t._v("发布："+t._s(t.mvInfo.publishTime))]),e("span",{staticClass:"number"},[t._v("播放："+t._s(t.mvInfo.playCount)+" 次")]),e("p",{staticClass:"desc"},[t._v(" "+t._s(t.mvInfo.desc)+" ")])])]),void 0!==t.hotComments&&0!==t.hotComments.length?e("div",{staticClass:"comment-wrap"},[e("p",{staticClass:"title"},[t._v(" 精彩评论"),e("span",{staticClass:"number"},[t._v("("+t._s(t.hotComments.length)+")")])]),e("div",{staticClass:"comments-wrap"},t._l(t.hotComments,(function(n,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:n.user.avatarUrl+"?param=50y50",alt:""}})]),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(n.user.nickname))]),e("span",{staticClass:"comment"},[t._v("："+t._s(n.content))])]),0!==n.beReplied.length?e("div",{staticClass:"re-content"},[e("span",{staticClass:"name"},[t._v(t._s(n.beReplied[0].user.nickname))]),e("span",{staticClass:"comment"},[t._v("："+t._s(n.beReplied[0].content))])]):t._e(),e("div",{staticClass:"date"},[t._v(t._s(t._f("dateFMT")(n.time)))])])])})),0)]):t._e(),e("div",{staticClass:"comment-wrap"},[e("p",{staticClass:"title"},[t._v(" 最新评论"),e("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),e("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(n,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:n.user.avatarUrl+"?param=50y50",alt:""}})]),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(n.user.nickname))]),e("span",{staticClass:"comment"},[t._v("："+t._s(n.content))])]),0!==n.beReplied.length?e("div",{staticClass:"re-content"},[e("span",{staticClass:"name"},[t._v(t._s(n.beReplied[0].user.nickname))]),e("span",{staticClass:"comment"},[t._v("："+t._s(n.beReplied[0].content))])]):t._e(),e("div",{staticClass:"date"},[t._v(t._s(t._f("dateFMT")(n.time)))])])])})),0)]),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1),e("div",{staticClass:"mv-recommend"},[e("h3",{staticClass:"title"},[t._v("相关推荐")]),e("div",{staticClass:"mvs"},[e("div",{staticClass:"items"},t._l(t.relevantMvs,(function(n,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:n.cover,alt:""}}),e("span",{staticClass:"iconfont icon-play",on:{click:function(e){return t.playMv(n.id)}}}),e("div",{staticClass:"num-wrap"},[e("div",{staticClass:"iconfont icon-play"}),e("div",{staticClass:"num"},[t._v(t._s(t._f("ellipsisPlayVolume")(n.playCount)))])]),e("span",{staticClass:"time"},[t._v(t._s(t._f("dateFMT2")(n.duration)))])]),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"name"},[t._v(t._s(n.name))]),e("div",{staticClass:"singer"},[t._v(t._s(n.artistName))])])])})),0)])])])},i=[],a=e("c1df"),r=e.n(a),o=e("8982"),c={name:"mv",data:function(){return{id:"",total:0,page:1,pageSize:10,mvVideo:"",relevantMvs:[],mvInfo:{},icon:"",hotComments:[],comments:[]}},created:function(){this.id=this.$route.query.id,this._getMV(),this._getRelevantMvs(),this._getmvDetails(),this._getMvComments()},methods:{playMv:function(t){this.page=1,this.id=t,this._getMV(),this._getRelevantMvs(),this._getmvDetails(),this._getMvComments()},handleCurrentChange:function(t){this.page=t,this._getMvComments(),console.log("当前页: ".concat(t))},_getMV:function(){var t=this;Object(o["b"])({id:this.id}).then((function(n){t.mvVideo=n.data.url}))},_getRelevantMvs:function(){var t=this;Object(o["e"])({mvid:this.id}).then((function(n){t.relevantMvs=n.mvs}))},_getmvDetails:function(){var t=this;Object(o["g"])({mvid:this.id}).then((function(n){console.log(n),t.mvInfo=n.data,Object(o["a"])({id:t.mvInfo.artists[0].id}).then((function(n){t.icon=n.artist.picUrl}))}))},_getMvComments:function(){var t=this;Object(o["c"])({id:this.id,limit:this.pageSize,offset:(this.page-1)*this.pageSize}).then((function(n){t.comments=n.comments,t.hotComments=n.hotComments,t.total=n.total}))}},filters:{dateFMT:function(t){return r()(t).format("YYYY-M-M HH:mm:ss")},dateFMT2:function(t){return r()(t).format("mm:ss")},ellipsisPlayVolume:function(t){return t<1e5?t:parseInt(t/1e4)+"万"}}},u=c,l=e("2877"),m=Object(l["a"])(u,s,i,!1,null,"718da721",null);n["default"]=m.exports},8982:function(t,n,e){"use strict";e.d(n,"h",(function(){return c})),e.d(n,"d",(function(){return u})),e.d(n,"i",(function(){return l})),e.d(n,"j",(function(){return m})),e.d(n,"f",(function(){return d})),e.d(n,"b",(function(){return v})),e.d(n,"e",(function(){return p})),e.d(n,"g",(function(){return f})),e.d(n,"a",(function(){return g})),e.d(n,"c",(function(){return h}));var s=e("bc3a"),i=e.n(s),a=e("38bc"),r=e.n(a),o=i.a.create({baseURL:"https://autumnfish.cn",timeout:3e3});function c(t){return o.get("/song/url",{params:t})}function u(t){return o.get("/mv/all",{params:t})}function l(t){return o.get("/search",{params:t})}function m(t){return o.get("/playlist/detail",{params:t})}function d(t){return o.get("/comment/playlist",{params:t})}function v(t){return o.get("/mv/url",{params:t})}function p(t){return o.get("/simi/mv",{params:t})}function f(t){return o.get("/mv/detail",{params:t})}function g(t){return o.get("/artists",{params:t})}function h(t){return o.get("/comment/mv",{params:t})}o.interceptors.request.use((function(t){return r.a.start(),t}),(function(t){console.log(t)})),o.interceptors.response.use((function(t){return r.a.done(),t.data}),(function(t){console.log(t)}))}}]);
//# sourceMappingURL=chunk-78b7c385.acc75d3d.js.map